<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="310px" preserveAspectRatio="none" style="width:654px;height:310px;background:#FFFFFF;" version="1.1" viewBox="0 0 654 310" width="654px" zoomAndPan="magnify"><defs/><g><!--MD5=[98e2ce5e992fb5b9031fe16df1cf32b5]
class WpfControlKeystrokePropagator--><g id="elem_WpfControlKeystrokePropagator"><rect codeLine="1" fill="#F1F1F1" height="188.875" id="WpfControlKeystrokePropagator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="640" x="7" y="115"/><ellipse cx="220.25" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M223.0156,126.875 Q223.1719,126.6563 223.3594,126.5469 Q223.5469,126.4375 223.7656,126.4375 Q224.1406,126.4375 224.375,126.7031 Q224.6094,126.9531 224.6094,127.5625 L224.6094,129.0156 Q224.6094,129.625 224.375,129.8906 Q224.1406,130.1563 223.7656,130.1563 Q223.4219,130.1563 223.2188,129.9531 Q223.0156,129.7656 222.9063,129.25 Q222.8594,128.8906 222.6719,128.7031 Q222.3438,128.3281 221.7344,128.1094 Q221.125,127.8906 220.5,127.8906 Q219.7344,127.8906 219.0938,128.2188 Q218.4688,128.5469 217.9688,129.2969 Q217.4844,130.0469 217.4844,131.0781 L217.4844,132.1719 Q217.4844,133.4063 218.375,134.2344 Q219.2656,135.0469 220.8594,135.0469 Q221.7969,135.0469 222.4531,134.7969 Q222.8438,134.6406 223.2656,134.2031 Q223.5313,133.9375 223.6719,133.8594 Q223.8281,133.7813 224.0313,133.7813 Q224.3594,133.7813 224.6094,134.0469 Q224.875,134.2969 224.875,134.6406 Q224.875,134.9844 224.5313,135.3906 Q224.0313,135.9688 223.2344,136.2969 Q222.1563,136.75 220.8594,136.75 Q219.3438,136.75 218.1406,136.125 Q217.1563,135.625 216.4688,134.5625 Q215.7813,133.4844 215.7813,132.2031 L215.7813,131.0469 Q215.7813,129.7188 216.3906,128.5781 Q217.0156,127.4219 218.1094,126.8125 Q219.2031,126.1875 220.4375,126.1875 Q221.1719,126.1875 221.8125,126.3594 Q222.4688,126.5156 223.0156,126.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="240.75" y="136.7285">WpfControlKeystrokePropagator</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="646" y1="147" y2="147"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="155"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="27" y="165.5332">«readonly» m_Elem : FrameworkElement</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="172.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="27" y="183.1426">m_HwndSrc : HwndSource</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="190.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="27" y="200.752">m_HwndSrcHook : HwndSourceHook</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="646" y1="207.8281" y2="207.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437" x="27" y="226.3613">«internal» WpfControlKeystrokePropagator(elem:FrameworkElement)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="233.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="383" x="27" y="243.9707">OnElementLoaded(sender:object, e:RoutedEventArgs) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="251.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395" x="27" y="261.5801">OnElementUnloaded(sender:object, e:RoutedEventArgs) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="268.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="614" x="27" y="279.1895">OnChildHwndSourceHook(hwnd:IntPtr, msg:int, wParam:IntPtr, lParam:IntPtr, handled:bool) : IntPtr</text><ellipse cx="18" cy="289.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="27" y="296.7988">Dispose() : void</text></g><!--MD5=[fe50a4f6767356ff4dcdadb85ef8cbdd]
class IDisposable--><g id="elem_IDisposable"><rect fill="#F1F1F1" height="48" id="IDisposable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="274.5" y="7"/><ellipse cx="289.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M292.2656,18.875 Q292.4219,18.6563 292.6094,18.5469 Q292.7969,18.4375 293.0156,18.4375 Q293.3906,18.4375 293.625,18.7031 Q293.8594,18.9531 293.8594,19.5625 L293.8594,21.0156 Q293.8594,21.625 293.625,21.8906 Q293.3906,22.1563 293.0156,22.1563 Q292.6719,22.1563 292.4688,21.9531 Q292.2656,21.7656 292.1563,21.25 Q292.1094,20.8906 291.9219,20.7031 Q291.5938,20.3281 290.9844,20.1094 Q290.375,19.8906 289.75,19.8906 Q288.9844,19.8906 288.3438,20.2188 Q287.7188,20.5469 287.2188,21.2969 Q286.7344,22.0469 286.7344,23.0781 L286.7344,24.1719 Q286.7344,25.4063 287.625,26.2344 Q288.5156,27.0469 290.1094,27.0469 Q291.0469,27.0469 291.7031,26.7969 Q292.0938,26.6406 292.5156,26.2031 Q292.7813,25.9375 292.9219,25.8594 Q293.0781,25.7813 293.2813,25.7813 Q293.6094,25.7813 293.8594,26.0469 Q294.125,26.2969 294.125,26.6406 Q294.125,26.9844 293.7813,27.3906 Q293.2813,27.9688 292.4844,28.2969 Q291.4063,28.75 290.1094,28.75 Q288.5938,28.75 287.3906,28.125 Q286.4063,27.625 285.7188,26.5625 Q285.0313,25.4844 285.0313,24.2031 L285.0313,23.0469 Q285.0313,21.7188 285.6406,20.5781 Q286.2656,19.4219 287.3594,18.8125 Q288.4531,18.1875 289.6875,18.1875 Q290.4219,18.1875 291.0625,18.3594 Q291.7188,18.5156 292.2656,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="303.5" y="28.7285">IDisposable</text><line style="stroke:#181818;stroke-width:0.5;" x1="275.5" x2="378.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="275.5" x2="378.5" y1="47" y2="47"/></g><!--MD5=[f0e588f3368964f7c64451121077cf44]
reverse link IDisposable to WpfControlKeystrokePropagator--><g id="link_IDisposable_WpfControlKeystrokePropagator"><path codeLine="11" d="M327,75.38 C327,87.4 327,100.93 327,114.65 " fill="none" id="IDisposable-backto-WpfControlKeystrokePropagator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="320,75.07,327,55.07,334,75.07,320,75.07" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9a680466ebfddddf84682ba6789731b5]
@startuml
class WpfControlKeystrokePropagator {
    - <<readonly>> m_Elem : FrameworkElement
    - m_HwndSrc : HwndSource
    - m_HwndSrcHook : HwndSourceHook
    <<internal>> WpfControlKeystrokePropagator(elem:FrameworkElement)
    - OnElementLoaded(sender:object, e:RoutedEventArgs) : void
    - OnElementUnloaded(sender:object, e:RoutedEventArgs) : void
    - OnChildHwndSourceHook(hwnd:IntPtr, msg:int, wParam:IntPtr, lParam:IntPtr, handled:bool) : IntPtr
    + Dispose() : void
}
IDisposable <|- - WpfControlKeystrokePropagator
@enduml

PlantUML version 1.2022.5(Sat Apr 30 20:55:52 AEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: AU
--></g></svg>